name: locorda_rdf
description: Workspace for Locorda RDF libraries.
publish_to: none

environment:
  sdk: ^3.6.0

workspace:
  - packages/locorda_rdf_core
  - packages/locorda_rdf_canonicalization
  - packages/locorda_rdf_mapper
  - packages/locorda_rdf_mapper_annotations
  - packages/locorda_rdf_mapper_generator
  - packages/locorda_rdf_xml
  - packages/locorda_rdf_terms_generator
  - packages/locorda_rdf_terms_core

dev_dependencies:
  melos: ^7.3.0

melos:
  scripts:
    analyze:
      run: dart run melos exec -- dart analyze .
      description: Run `dart analyze` in all packages.

    format:
      run: dart run melos exec -- dart format .
      description: Run `dart format` in all packages.

    test:
      run: dart run melos exec --dir-exists=test -- dart test
      description: Run `dart test` in all packages that have a `test` directory.

  version:
    # Synchronized versioning for all packages in the RDF suite
    updateGitTagRefs: true
    includeCommitId: true
    linkToCommits: true
    # Changelog configuration using conventional commits
    changelog:
      packageFilters:
        - dirExists: 'lib'
      message: |
        ## {version}

        {conventional_commits}
      linkToCommits: true
